---
name: Rendering & Visual Design
status: open
created: 2025-11-15T16:20:35Z
updated: 2025-11-15T16:47:36Z
github: https://github.com/imezh/snake-game/issues/6
depends_on: [3, 5]
parallel: false
conflicts_with: [7]
---

# Task: Rendering & Visual Design

## Description
Implement Canvas rendering for all game elements with retro pixel art aesthetic. Draw snake segments, food, background grid, and UI overlays (score, length). Apply the retro color palette and ensure clean, performant rendering at 60fps.

## Acceptance Criteria
- [ ] Canvas clears and redraws properly each frame
- [ ] Snake head rendered distinctly from body segments
- [ ] Snake body segments rendered with pixel art style
- [ ] Food item rendered with contrasting color
- [ ] Optional grid lines or implied grid visible
- [ ] Retro color palette applied (dark background, bright snake/food)
- [ ] Score displayed in real-time during gameplay
- [ ] Snake length displayed during gameplay
- [ ] Text rendered clearly with retro-style font
- [ ] All rendering maintains 60fps performance

## Technical Details

**Color Palette:**
```javascript
const COLORS = {
  background: '#1a1a2e',
  snake: '#00ff41',
  snakeHead: '#00ff41',
  snakeBody: '#00dd33',
  food: '#ff006e',
  grid: '#2a2a2a',
  text: '#ffffff'
};
```

**Rendering Functions:**
```javascript
function clearCanvas() {
  ctx.fillStyle = COLORS.background;
  ctx.fillRect(0, 0, canvas.width, canvas.height);
}

function drawGrid() {
  ctx.strokeStyle = COLORS.grid;
  ctx.lineWidth = 1;

  // Draw vertical lines
  for (let x = 0; x <= GRID_SIZE; x++) {
    ctx.beginPath();
    ctx.moveTo(x * CELL_SIZE, 0);
    ctx.lineTo(x * CELL_SIZE, canvas.height);
    ctx.stroke();
  }

  // Draw horizontal lines
  for (let y = 0; y <= GRID_SIZE; y++) {
    ctx.beginPath();
    ctx.moveTo(0, y * CELL_SIZE);
    ctx.lineTo(canvas.width, y * CELL_SIZE);
    ctx.stroke();
  }
}

function drawSnake() {
  snake.segments.forEach((segment, index) => {
    const isHead = index === 0;
    ctx.fillStyle = isHead ? COLORS.snakeHead : COLORS.snakeBody;

    // Draw segment as filled rectangle
    ctx.fillRect(
      segment.x * CELL_SIZE,
      segment.y * CELL_SIZE,
      CELL_SIZE - 1, // -1 for pixel art gap
      CELL_SIZE - 1
    );

    // Optional: Add border for pixel art effect
    ctx.strokeStyle = '#009922';
    ctx.strokeRect(
      segment.x * CELL_SIZE,
      segment.y * CELL_SIZE,
      CELL_SIZE - 1,
      CELL_SIZE - 1
    );
  });
}

function drawFood() {
  if (!food) return;

  ctx.fillStyle = COLORS.food;
  ctx.fillRect(
    food.x * CELL_SIZE,
    food.y * CELL_SIZE,
    CELL_SIZE - 1,
    CELL_SIZE - 1
  );
}

function drawScore() {
  ctx.fillStyle = COLORS.text;
  ctx.font = '20px monospace'; // Retro monospace font
  ctx.textAlign = 'left';
  ctx.fillText(`Score: ${score}`, 10, 30);
  ctx.fillText(`Length: ${snake.segments.length}`, 10, 55);
}

function renderGame() {
  clearCanvas();
  drawGrid();
  drawFood();
  drawSnake();
  drawScore();
}
```

**CSS Styling:**
```css
canvas {
  display: block;
  margin: 50px auto;
  background-color: #1a1a2e;
  border: 3px solid #00ff41;
  box-shadow: 0 0 20px rgba(0, 255, 65, 0.3);
}

body {
  margin: 0;
  padding: 0;
  background-color: #0a0a0a;
  font-family: 'Courier New', monospace;
}
```

**Code Locations:**
- `game.js`: All rendering functions
- `styles.css`: Canvas and body styling

**Key Considerations:**
- Use fillRect for blocky pixel art effect
- Add -1 to cell size to create grid gaps
- Monospace font for retro aesthetic
- Canvas border and glow effect for visual appeal
- Minimize overdraw and unnecessary clearing
- Pre-calculate pixel positions if needed for performance

## Dependencies
- [ ] Task 002 completed (game loop for render calls)
- [ ] Task 004 completed (snake and food data to render)

## Effort Estimate
- **Size:** M
- **Hours:** 14-16 hours
- **Parallel:** false (modifies game.js and styles.css)

## Definition of Done
- [ ] All game elements render correctly
- [ ] Snake head visually distinct from body
- [ ] Food clearly visible and contrasting
- [ ] Score and length display in real-time
- [ ] Retro pixel art aesthetic achieved
- [ ] Colors match specified palette
- [ ] Grid optional but background looks good
- [ ] No visual glitches or tearing
- [ ] Performance stays at 60fps
- [ ] Canvas properly styled with border/glow
- [ ] Code is well-commented
- [ ] Rendering is clean on all target browsers
